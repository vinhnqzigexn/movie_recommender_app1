c
$recommender.similar_users
$recommender.@similar_users
c
x = Movie.where("id in #{[6, 7, 12, 23, 24, 42, 56, 59, 60, 64, 70, 77, 89, 93, 96, 98, 121, 129, 137, 150, 156, 172, 182, 192, 197, 200, 203, 216, 223, 258, 264, 270, 286, 288, 293, 318, 324, 325, 327, 333, 343, 358, 385, 421, 474, 513, 514, 517, 518, 547, 603, 628, 690, 769, 772, 806, 851, 919, 955, 960, 1006, 1007, 1019, 1048, 1071, 1153, 1154, 1155, 1156, 1157, 1158, 1159, 25, 88, 152, 168, 173, 194, 210, 211, 322, 428, 435, 502, 514, 523, 629, 659, 988, 28, 202, 258, 269, 272, 300, 301, 305, 316, 326, 357, 433, 879, 7, 9, 22, 24, 31, 32, 42, 45, 50, 55, 56, 69, 70, 86, 100, 117, 127, 129, 151, 168, 169, 171, 178, 181, 182, 192, 195, 198, 201, 212, 235, 273, 318, 408, 429, 467, 471, 475, 477, 488, 510, 511, 515, 518, 527, 530, 603, 628, 654, 718, 724, 730, 735, 844, 919, 923, 943, 952, 960, 1079, 1101, 100, 111, 153, 191, 202, 237, 274, 280, 631, 644].join(',')}")
x.first
x.nil?
x.nil
x
x = Movie.where("id in #{[6, 7, 12, 23, 24, 42, 56, 59, 60, 64, 70, 77, 89, 93, 96, 98, 121, 129, 137, 150, 156, 172, 182, 192, 197, 200, 203, 216, 223, 258, 264, 270, 286, 288, 293, 318, 324, 325, 327, 333, 343, 358, 385, 421, 474, 513, 514, 517, 518, 547, 603, 628, 690, 769, 772, 806, 851, 919, 955, 960, 1006, 1007, 1019, 1048, 1071, 1153, 1154, 1155, 1156, 1157, 1158, 1159, 25, 88, 152, 168, 173, 194, 210, 211, 322, 428, 435, 502, 514, 523, 629, 659, 988, 28, 202, 258, 269, 272, 300, 301, 305, 316, 326, 357, 433, 879, 7, 9, 22, 24, 31, 32, 42, 45, 50, 55, 56, 69, 70, 86, 100, 117, 127, 129, 151, 168, 169, 171, 178, 181, 182, 192, 195, 198, 201, 212, 235, 273, 318, 408, 429, 467, 471, 475, 477, 488, 510, 511, 515, 518, 527, 530, 603, 628, 654, 718, 724, 730, 735, 844, 919, 923, 943, 952, 960, 1079, 1101, 100, 111, 153, 191, 202, 237, 274, 280, 631, 644].join(",")}")
x = Movie.where("id in #{[6, 7, 12, 23, 24, 42, 56, 59, 60, 64, 70, 77, 89, 93, 96, 98, 121, 129, 137, 150, 156, 172, 182, 192, 197, 200, 203, 216, 223, 258, 264, 270, 286, 288, 293, 318, 324, 325, 327, 333, 343, 358, 385, 421, 474, 513, 514, 517, 518, 547, 603, 628, 690, 769, 772, 806, 851, 919, 955, 960, 1006, 1007, 1019, 1048, 1071, 1153, 1154, 1155, 1156, 1157, 1158, 1159, 25, 88, 152, 168, 173, 194, 210, 211, 322, 428, 435, 502, 514, 523, 629, 659, 988, 28, 202, 258, 269, 272, 300, 301, 305, 316, 326, 357, 433, 879, 7, 9, 22, 24, 31, 32, 42, 45, 50, 55, 56, 69, 70, 86, 100, 117, 127, 129, 151, 168, 169, 171, 178, 181, 182, 192, 195, 198, 201, 212, 235, 273, 318, 408, 429, 467, 471, 475, 477, 488, 510, 511, 515, 518, 527, 530, 603, 628, 654, 718, 724, 730, 735, 844, 919, 923, 943, 952, 960, 1079, 1101, 100, 111, 153, 191, 202, 237, 274, 280, 631, 644].join(",")}"
Review.where("user_id in (#{$recommender.similar_users.join(',')})").pluck(:movie_id)
Review.where("user_id in (#{$recommender.similar_users.join(',')})")
$recommender.similar_users
c
top_5
n
c
@similarity_users
c
@similarity_users
c
quit
c
top_5
n
top_5
n
c
@similarity_users
c
@similar_users
c
new_user_genres
l
User.last
n
User.last
c
User.last.delete
User.last
quit
n
quit
rating
ratings
quit
ratings
rating
n
quit
ratings
rating[0]
quit
n
c
n
l
User.last
User.find(944).update(sex: "M", occupation: "technician", average_rating: 0)
User.update(id: 944, sex: "M", occupation: "technician", average_rating: 0)
User.update(id: 944, "M", occupation: "technician", average_rating: 0)
User.last
n
user_id
c
current_user
@movies
c
@movies
@movies = Movie.where("id in(1482, 704, 1151, 724, 306, 15, 1306,1400, 735, 1275)")
c
@movies
c
Movie.where("id in(1482, 704, 1151, 724, 306, 15, 1306,1400, 735, 1275)")
@movies
c
params
quit
params[:rating]["67"]
params[:rating][67]
params[:rating]
params
c
params
c
params[:rating][1]
params[:rating]
params
c
cc
c
@ask_movies
c
User.last
c
$recommender
quit
$recommender
quit
Movie.first.genres.pluck(:genres_value)
Movie.first.genres
c
movie_db.genres
c
movie_db.genres
c
movie_db.genres
c
movie_db.genres
n
quit
Genere.delete
movie_db.genres.size
movie_db.genres
n
quit
es
n
movie_db.genres
n
quit
Movie.first.genres.pluck(:genres_value)
Movie.first.genres(3).pluck(:genres_value)
Movie.first.genres(3)
Movie.first.genres.size
Movie.first.genres
quit
Movie.delete_all
movie_types
Movie.first
Movie.first.genres
quit
Movie.delete_all
movie_db.save
movie_db.genres
n
quit
movie_db.genres
movie_db.genres_movies
movie_db.genres_movies.genres
movie_db.genres_movies
movie_db
movie_db.save
movie_db.genres.build(genres_value: i - 5, name: genre_names[i-5])
movie_db.genres
movie_db
quit
exc
n
quit
Movie.delete_all
exc
n
quit
exc
n
quit
exc
n
es[5]
quit
top_5_genres
4top_5_genres
c
f
4
quit
top_5_genres
c
top_5_genres
c
top_5_genres
c
top_5_genres
n
quit
top_5
top[0]
top[0] -1
avr_g_clustered[top[0] -1].index(avr_g_clustered[top[0] -1].max)
quit
x << avr_g_clustered[405].index(avr_g_clustered[405].max)
x << avr_g_clustered[920].index(avr_g_clustered[920].max)
x << avr_g_clustered[101].index(avr_g_clustered[101].max)
x << avr_g_clustered[808].index(avr_g_clustered[808].max)
x << avr_g_clustered[793].index(avr_g_clustered[793].max)
x = []
avr_g_clustered[793].index(avr_g_clustered[793].max)
top_5
top_5_genres
quit
avr_g_clustered[404].index(avr_g_clustered[404].max)
avr_g_clustered[920].index(avr_g_clustered[920].max)
avr_g_clustered[101].index(avr_g_clustered[101].max)
avr_g_clustered[808].index(avr_g_clustered[808].max)
avr_g_clustered[793].index(avr_g_clustered[793].max)
a.index(a.max)
avr_g_clustered[793].max
avr_g_clustered[793]
top_5
top_5_genres
c
n
top_5
n
top_5
n
pcs_array[0]
n
pcs_array[0n]
pcs_array[0]
avr_g_clustered[943]
cavr_g_clustered[943]
n
quit
pcs_array
n
l
pcs_array
n
quit
avr_g_clustered[943]
avr_g_clustered[942].inject(0){|sum, el| el > 0 ? sum + el : sum}.to_f
avr_g_clustered[942].inject(0){|sum, el| el > 0 ? sum + 1 : sum}.to_f
avr_g_clustered[942].inject(0){|sum, el| el > 0 ? sum + el : sum}.to_f / avr_g_clustered[942].inject(0){|sum, el| el > 0 ? sum + 1 : sum}.to_f
avr_g_clustered[942]
User.last.delete
User.last
result1.first(5)
result1
top_5_genres
c
@user_after_ratings
quit
User.last.delete
User.last
top_5_genres
quit
n
quit
exc
n
quit
r.recommend
r = Recommender.new
r.recommend
x.inject(0){|sum, el| el > 0 ? sum + 1 : sum}.to_f
x.inject(0){|sum, el| el > 0 ? sum + el : sum}.to_f
.inject(0){|sum, el| el > 0 ? sum + el : sum}.to_f
x
c
n
quit
top_5_genres
c
